!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ScrollToFixed=t():e.ScrollToFixed=t()}(window,()=>(()=>{"use strict";var e={};e.d=(t,i)=>{for(var o in i)e.o(i,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:i[o]})},e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var t={};e.r(t),e.d(t,{ScrollToFixed:()=>n,default:()=>l,utils:()=>s});function i(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function o(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(t){i(e,t,o[t])})}return e}var n=function(){var e;function t(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(this instanceof t))throw TypeError("Cannot call a class as a function");i(this,"element",void 0),i(this,"options",void 0),i(this,"originalStyles",void 0),i(this,"isFixed",void 0),i(this,"originalOffsetTop",void 0),i(this,"originalOffsetBottom",void 0),i(this,"placeholder",void 0),i(this,"boundHandleScroll",function(){}),this.element=this.resolveElement(e),this.options=this.parseOptions(o),this.originalStyles={},this.isFixed=!1,this.originalOffsetTop=0,this.originalOffsetBottom=0,this.placeholder=null,this.init()}return e=[{key:"resolveElement",value:function(e){if("string"==typeof e){var t,i=document.querySelector(e);if(!i)throw Error("Element not found: ".concat(e));if(null!=(t=HTMLElement)&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!t[Symbol.hasInstance](i):!(i instanceof t))throw Error("Element is not an HTMLElement: ".concat(e));return i}return e}},{key:"parseOptions",value:function(e){var i=this.getDataOptions();return o({},t.DEFAULT_OPTIONS,i,e)}},{key:"getDataOptions",value:function(){var e={},t=this.element.getAttribute("data-offset");if(t){var i=parseInt(t,10);isNaN(i)||(e.offset=i)}var o=this.element.getAttribute("data-class");o&&(e.className=o);var n=this.element.getAttribute("data-zindex");if(n){var s=parseInt(n,10);isNaN(s)||(e.zIndex=s)}var l=this.element.getAttribute("data-position");return l&&("top"===l||"bottom"===l)&&(e.position=l),e}},{key:"init",value:function(){this.saveOriginalStyles(),this.calculateOriginalPosition(),this.createPlaceholder(),this.bindScrollEvent()}},{key:"saveOriginalStyles",value:function(){var e=window.getComputedStyle(this.element);this.originalStyles={position:e.position,left:e.left,width:e.width,height:e.height,marginTop:e.marginTop,marginBottom:e.marginBottom}}},{key:"calculateOriginalPosition",value:function(){var e=this.getElementOffset();this.originalOffsetTop=e.top,this.originalOffsetBottom=e.bottom}},{key:"getElementOffset",value:function(){var e=this.element.getBoundingClientRect();return{top:e.top+window.pageYOffset,bottom:e.bottom+window.pageYOffset,left:e.left+window.pageXOffset}}},{key:"createPlaceholder",value:function(){this.placeholder=document.createElement("div"),this.placeholder.style.height="".concat(this.element.offsetHeight,"px"),this.placeholder.style.display="none",this.element.parentNode.insertBefore(this.placeholder,this.element)}},{key:"bindScrollEvent",value:function(){this.boundHandleScroll=this.handleScroll.bind(this),window.addEventListener("scroll",this.boundHandleScroll,{passive:!0}),window.addEventListener("resize",this.boundHandleScroll,{passive:!0}),this.handleScroll()}},{key:"handleScroll",value:function(){var e=window.pageYOffset||document.documentElement.scrollTop,t=window.innerHeight,i=!1;(i="bottom"===this.options.position?this.originalOffsetBottom>e+t+this.options.offset:e>this.originalOffsetTop-this.options.offset)&&!this.isFixed?this.fixElement():!i&&this.isFixed&&this.unfixElement()}},{key:"fixElement",value:function(){this.isFixed||(this.placeholder&&(this.placeholder.style.height="".concat(this.element.offsetHeight,"px"),this.placeholder.style.display="block"),this.element.style.position="fixed",this.element.style.left="0",this.element.style.width="100%",this.options.zIndex!==t.DEFAULT_OPTIONS.zIndex&&(this.element.style.zIndex=this.options.zIndex.toString()),"bottom"===this.options.position?this.options.offset!==t.DEFAULT_OPTIONS.offset&&(this.element.style.bottom="".concat(this.options.offset,"px")):this.options.offset!==t.DEFAULT_OPTIONS.offset&&(this.element.style.top="".concat(this.options.offset,"px")),this.element.classList.add(this.options.className),this.isFixed=!0)}},{key:"unfixElement",value:function(){var e=this;this.isFixed&&(this.placeholder&&(this.placeholder.style.display="none"),Object.keys(this.originalStyles).forEach(function(t){e.element.style[t]=e.originalStyles[t]}),this.element.style.width=this.originalStyles.width,this.element.classList.remove(this.options.className),this.isFixed=!1)}},{key:"destroy",value:function(){window.removeEventListener("scroll",this.boundHandleScroll),window.removeEventListener("resize",this.boundHandleScroll),this.placeholder&&this.placeholder.parentNode&&this.placeholder.parentNode.removeChild(this.placeholder),this.unfixElement()}},{key:"update",value:function(e){this.isFixed&&this.unfixElement(),this.options=o({},this.options,e),this.calculateOriginalPosition(),this.handleScroll()}}],function(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(t.prototype,e),t}();i(n,"DEFAULT_OPTIONS",{offset:0,className:"scroll-fixed",zIndex:199,position:"top"});var s={throttle:function(e,t){var i=this,o=null,n=0;return function(){for(var s=arguments.length,l=Array(s),r=0;r<s;r++)l[r]=arguments[r];var a=Date.now();a-n>t?(e.apply(i,l),n=a):(o&&clearTimeout(o),o=setTimeout(function(){e.apply(i,l),n=Date.now()},t-(a-n)))}}};let l=n;return t})());